This is a forked version of the original [valibot-benchmarks](https://github.com/naruaway/valibot-benchmarks) repository. I've updated both **Valibot** (v1.1.0) and **Zod** (v4.1.3) to their latest versions at the time of writing and included [**Valleys**](https://github.com/nimeshnayaju/valleys) in the benchmark suite. The following tables are based on `bench-output.json` file generated by running `npm run bench` command.

## Notes

- **Valleys** doesn't support transformation, so I had to remove transformation logic from the benchmark tests.
- **Valleys** doesn't yet support an `any` validator, so I had to change that to an object validator.

## Relative performance (Valleys vs others)

## Node.js

| Suite                     | Valleys (ops/s) | Valibot (ops/s) | Zod (ops/s) | Vs Valibot |     Vs Zod |
| ------------------------- | --------------: | --------------: | ----------: | ---------: | ---------: |
| Deep / valid              |       2,455,851 |         564,762 |   1,195,728 |   **4.3×** |   **2.1×** |
| Many features / invalid   |       6,771,089 |         626,325 |      59,113 |  **10.8×** | **114.5×** |
| Many features / valid     |       3,833,636 |         608,364 |   1,004,617 |   **6.3×** |   **3.8×** |
| Optional nullable / valid |       1,200,714 |         270,494 |     403,381 |   **4.4×** |   **3.0×** |
| Wide / invalid            |      13,400,336 |         121,583 |      21,067 | **110.2×** | **636.1×** |
| Wide / valid              |       1,150,239 |         226,885 |     808,141 |   **5.1×** |   **1.4×** |

## Bun

| Suite                     | Valleys (ops/s) | Valibot (ops/s) | Zod (ops/s) | Vs Valibot |     Vs Zod |
| ------------------------- | --------------: | --------------: | ----------: | ---------: | ---------: |
| Deep / valid              |       2,835,321 |       1,888,218 |   1,045,239 |   **1.5×** |   **2.7×** |
| Many features / invalid   |       7,382,253 |       1,182,377 |     125,476 |   **6.2×** |  **58.8×** |
| Many features / valid     |       4,441,033 |       1,755,197 |   1,221,766 |   **2.5×** |   **3.6×** |
| Optional nullable / valid |       1,413,692 |         971,460 |     801,395 |   **1.5×** |   **1.8×** |
| Wide / invalid            |      18,509,701 |         268,868 |      38,002 |  **68.8×** | **487.1×** |
| Wide / valid              |       1,920,490 |         827,125 |     938,042 |   **2.3×** |   **2.0×** |

## Deno

| Suite                     | Valleys (ops/s) | Valibot (ops/s) | Zod (ops/s) | Vs Valibot |     Vs Zod |
| ------------------------- | --------------: | --------------: | ----------: | ---------: | ---------: |
| Deep / valid              |       2,399,585 |         598,846 |   1,314,036 |   **4.0×** |   **1.8×** |
| Many features / invalid   |       6,134,925 |         595,266 |      57,474 |  **10.3×** | **106.7×** |
| Many features / valid     |       3,374,625 |         588,883 |   1,034,474 |   **5.7×** |   **3.3×** |
| Optional nullable / valid |       1,166,253 |         262,742 |     382,716 |   **4.4×** |   **3.0×** |
| Wide / invalid            |       9,003,510 |         128,644 |      22,385 |  **70.0×** | **402.2×** |
| Wide / valid              |       1,351,546 |         256,516 |     923,208 |   **5.3×** |   **1.5×** |

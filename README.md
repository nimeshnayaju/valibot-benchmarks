This is a forked version of the original [valibot-benchmarks](https://github.com/naruaway/valibot-benchmarks) repository. I've updated both **Valibot** (v1.1.0) and **Zod** (v4.1.3) to their latest versions at the time of writing and included [**Valleys**](https://github.com/nimeshnayaju/valleys) in the benchmark suite. The following tables are based on `bench-output.json` file generated by running `npm run bench` command.

## Notes

- **Valleys** doesn't support transformation, so I had to remove transformation logic from the benchmark tests.
- **Valleys** doesn't yet support an `any` validator, so I had to change that to an object validator.

## Relative performance (Valleys vs others)

## Node.js

| Suite                     | Valleys (ops/s) | Valibot (ops/s) | Zod (ops/s) | Vs Valibot |    Vs Zod |
| ------------------------- | --------------: | --------------: | ----------: | ---------: | --------: |
| Deep / valid              |       1,290,656 |         549,498 |   1,183,185 |  **2.35×** | **1.09×** |
| Many features / invalid   |       4,626,385 |         615,050 |      57,821 |   **7.5×** |   **80×** |
| Many features / valid     |       2,433,788 |         601,342 |     993,867 |   **4.0×** |  **2.4×** |
| Optional nullable / valid |         769,449 |         267,587 |     393,003 |   **2.9×** |  **2.0×** |
| Wide / invalid            |       7,683,398 |         119,410 |      20,691 |    **64×** |  **371×** |
| Wide / valid              |         722,465 |         222,646 |     787,540 |   **3.2×** | **0.92×** |

## Bun

| Suite                     | Valleys (ops/s) | Valibot (ops/s) | Zod (ops/s) | Vs Valibot |    Vs Zod |
| ------------------------- | --------------: | --------------: | ----------: | ---------: | --------: |
| Deep / valid              |       2,706,573 |       1,834,822 |   1,020,577 |  **1.48×** | **2.65×** |
| Many features / invalid   |       6,725,439 |       1,149,264 |     121,852 |  **5.85×** |   **55×** |
| Many features / valid     |       4,155,711 |       1,706,550 |   1,181,509 |  **2.44×** | **3.52×** |
| Optional nullable / valid |       1,410,582 |         950,589 |     784,964 |  **1.48×** | **1.80×** |
| Wide / invalid            |      15,732,055 |         258,732 |      36,947 |  **60.8×** |  **426×** |
| Wide / valid              |       1,861,953 |         803,450 |     913,322 |  **2.32×** | **2.04×** |

## Deno

| Suite                     | Valleys (ops/s) | Valibot (ops/s) | Zod (ops/s) | Vs Valibot |    Vs Zod |
| ------------------------- | --------------: | --------------: | ----------: | ---------: | --------: |
| Deep / valid              |       1,570,435 |         585,740 |   1,272,034 |  **2.68×** | **1.23×** |
| Many features / invalid   |       4,755,283 |         583,920 |      56,371 |   **8.1×** |   **84×** |
| Many features / valid     |       3,057,966 |         577,532 |   1,006,311 |   **5.3×** |  **3.0×** |
| Optional nullable / valid |         959,719 |         259,977 |     375,306 |   **3.7×** |  **2.6×** |
| Wide / invalid            |       6,959,023 |         126,148 |      21,772 |    **55×** |  **320×** |
| Wide / valid              |       1,169,142 |         254,860 |     905,605 |   **4.6×** | **1.29×** |
